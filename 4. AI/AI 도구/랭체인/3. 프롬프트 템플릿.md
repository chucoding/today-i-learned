# PromptTemplate
프롬프트를 구성할 수 있는 문자열 템플릿(Python 문자열 포맷팅 사용)

```python
from langchain_core.prompts import PromptTemplate

template_text = "안녕하세요, 제 이름은 {name}이고, 나이는 {age}살입니다."

# PromptTemplate 인스턴스를 생성
prompt_template = PromptTemplate.from_template(template_text)

# 템플릿에 값을 채워서 프롬프트를 완성
filled_prompt = prompt_template.format(name="홍길동", age=30)

filled_prompt
```

```
안녕하세요, 제 이름은 홍길동이고, 나이는 30살입니다.
```

다음과 같이 여러개의 템플릿을 조합할 수도 있다.
```python
combined_prompt = (
              prompt_template
              + PromptTemplate.from_template("\n\n아버지를 아버지라 부를 수 없습니다.")
              + "\n\n{language}로 번역해주세요."
)

combined_prompt
```

# ChatPromptTemplate
대화형 모델이나 챗봇 개발에 주로 사용되며 여러 메시지 입력을 기반으로 단일 메시지 응답을 생성하는 데 사용

```python
from langchain_core.prompts import ChatPromptTemplate
from langchain_core.output_parsers import StrOutputParser

from langchain_openai import ChatOpenAI

chat_prompt = ChatPromptTemplate.from_messages([
    ("system", "이 시스템은 천문학 질문에 답변할 수 있습니다."),
    ("user", "{user_input}"),
])

messages = chat_prompt.format_messages(user_input="태양계에서 가장 큰 행성은 무엇인가요?")

# [SystemMessage(content='이 시스템은 천문학 질문에 답변할 수 있습니다.'),
#  HumanMessage(content='태양계에서 가장 큰 행성은 무엇인가요?')]

llm = ChatOpenAI(model="gpt-4o-mini")

chain = chat_prompt | llm | StrOutputParser()

chain.invoke({"user_input": "태양계에서 가장 큰 행성은 무엇인가요?"})
```

### MessagePromptTemplate
튜플 대신 `SystemMessagePromptTemplate`과 `HumanMessagePromptTemplate`도 사용 가능
```python
from langchain_core.prompts import SystemMessagePromptTemplate,  HumanMessagePromptTemplate

chat_prompt = ChatPromptTemplate.from_messages(
    [
        SystemMessagePromptTemplate.from_template("이 시스템은 천문학 질문에 답변할 수 있습니다."),
        HumanMessagePromptTemplate.from_template("{user_input}"),
    ]
)

messages = chat_prompt.format_messages(user_input="태양계에서 가장 큰 행성은 무엇인가요?")
messages
```