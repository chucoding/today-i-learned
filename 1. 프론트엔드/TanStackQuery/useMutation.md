
# useMutation

서버에 데이터를 보내거나 (POST, PUT, DELETE 등), 상태를 변경하는 "mutation"을 다룰 때 사용(비동기 작업에 대한 상태 관리, 콜백, 에러 처리, 낙관적 업데이트 등을 효율적으로 처리할 수 있게 도와줌)


- **비동기 상태 관리 자동화**
    - `isPending`, `isError`, `isSuccess` 같은 상태를 직접 관리하지 않아도 됨
    - 로딩 스피너, 에러 메시지 처리를 쉽게 구현 가능
- **쿼리 무효화 & 리프레시와의 연계**
    - 어떤 데이터를 변경한 후, 관련된 캐시(`useQuery`로 가져온 데이터)를 자동으로 **invalidate → refetch** 가능
    - 예: 게시글 작성(POST) 후 `posts` 리스트 쿼리를 다시 불러오기
- **낙관적 업데이트 (Optimistic Update)**
    - 서버 응답을 기다리지 않고, UI를 먼저 업데이트 → 빠른 사용자 경험 제공
    - 실패 시 `onError`에서 롤백 가능
- **재시도 & 에러 핸들링 내장**
    - `retry`, `retryDelay` 같은 옵션으로 안정적인 API 호출 지원
    - 글로벌 에러 핸들링도 쉽게 연동 가능
- **전역 상태/캐시 관리와 통합**
    - 그냥 API 호출만 하는 게 아니라, **React Query의 캐싱 전략과 완벽하게 통합**된다는 점이 핵심