# 스토리북 설치

## 설치
```bash
pnpm create storybook@latest
```

- 기본적으로 vite + react 버전이 설치됨.
    
    <aside>
    💡 vanilla-extract 사용하고 있고 tsx로 컴포넌트를 만들고 있다면 React가 맞음.
    
    </aside>
    
- 계속 확인버튼 클릭하면 설치 완료
- 설치하고 나면 다음과 같은 의존성들이 초기 셋팅됨.

## 기본으로 설치되는 파일

### package.json

```json
"devDependencies": {
    "@storybook/addon-docs": "^9.1.3",
    "@storybook/addon-onboarding": "^9.1.3",
    "@storybook/react-vite": "^9.1.3",
    "eslint-plugin-storybook": "^9.1.3",
    "storybook": "^9.1.3",
  },
  "eslintConfig": {
    "extends": [
      "plugin:storybook/recommended"
    ]
}
```

[Storybook Dependencies](https://www.notion.so/Storybook-Dependencies-261fd64d44a0806390ebe093be4e9a3a?pvs=21)

### .storybook

**main.ts**

스토리북 메인 설정 파일 

```tsx
import type { StorybookConfig } from '@storybook/react-vite';

const config: StorybookConfig = {
  "stories": [
    "../src/**/*.mdx",
    "../src/**/*.stories.@(js|jsx|mjs|ts|tsx)"
  ],
  "addons": [
    "@storybook/addon-docs",
    "@storybook/addon-onboarding"
  ],
  "framework": {
    "name": "@storybook/react-vite",
    "options": {}
  }
};
export default config;
```

주요 역할:

- **스토리 파일 위치 지정**: stories 배열에서 스토리북이 찾을 파일 패턴을 정의
- ../src/**/*.mdx: MDX 문서 파일들
- ../src/**/*.stories.@(js|jsx|mjs|ts|tsx): 스토리 파일들
- **애드온 설정**: 사용할 스토리북 애드온들을 등록
- **프레임워크 설정**: React + Vite 환경 설정
- **빌드 도구 설정**: Vite 관련 설정들

**preview.ts**

 스토리북 미리보기 설정 파일

```tsx
import type { Preview } from '@storybook/react-vite'

const preview: Preview = {
  parameters: {
    controls: {
      matchers: {
       color: /(background|color)$/i,
       date: /Date$/i,
      },
    },
  },
};

export default preview;
```

주요 역할:

- **글로벌 스토리 설정**: 모든 스토리에 공통으로 적용될 설정
- **컨트롤 패널 설정**:
- color 매처: background나 color로 끝나는 props를 색상 선택기로 표시
- date 매처: Date로 끝나는 props를 날짜 선택기로 표시
- **테마, 레이아웃, 글로벌 스타일** 등 설정 가능
- **데코레이터 설정**: 모든 스토리를 감싸는 공통 컴포넌트 설정

## 참고자료
| title | url |
| --- | --- |
| Storybook Install | https://www.notion.so/Storybook-Install-261fd64d44a0806b9e99c99d8447a817?pvs=21 |